# üõ°Ô∏è –ë–ï–ó–û–ü–ê–°–ù–û–ï –û–¢–ö–õ–Æ–ß–ï–ù–ò–ï RASPBERRY PI –ò HDD

## üåê –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –î–æ—Å—Ç—É–ø –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
http://IP_ADDRESS:5000/monitor
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:

#### üíæ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ HDD**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ (`sync`)
- –†–∞–∑–º–æ–Ω—Ç–∏—Ä—É–µ—Ç –¥–∏—Å–∫ (`umount /mnt/hdd`)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è USB

#### üîÑ **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–ª–µ–µ—Ä
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É
- –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–∏–Ω—É—Ç—ã

#### ‚ö° **–í—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã**
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- –†–∞–∑–º–æ–Ω—Ç–∏—Ä—É–µ—Ç HDD
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –í—ã–∫–ª—é—á–∞–µ—Ç —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É
- –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–∏–Ω—É—Ç—ã

#### ‚ùå **–û—Ç–º–µ–Ω–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è**
- –û—Ç–º–µ–Ω—è–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ/–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–µ—á–µ–Ω–∏–µ –º–∏–Ω—É—Ç—ã –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã

## üíª –ß–µ—Ä–µ–∑ SSH/–∫–æ–Ω—Å–æ–ª—å

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ HDD:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–µ–µ—Ä
sudo systemctl stop aether-player

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
sync

# –†–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∏—Å–∫
sudo umount /mnt/hdd

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å USB
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:
```bash
# –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ
sudo shutdown -h now

# –í—ã–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É
sudo shutdown -h +1

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
sudo reboot

# –û—Ç–º–µ–Ω–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
sudo shutdown -c
```

## üö® –í–ê–ñ–ù–´–ï –ü–†–ê–í–ò–õ–ê

### ‚ùå –ù–ò–ö–û–ì–î–ê –ù–ï –î–ï–õ–ê–ô–¢–ï:
- –ù–µ –≤—ã–¥–µ—Ä–≥–∏–≤–∞–π—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏
- –ù–µ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ USB –¥–∏—Å–∫ –±–µ–∑ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ù–µ –≤—ã–∫–ª—é—á–∞–π—Ç–µ –≤–æ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –í–°–ï–ì–î–ê –î–ï–õ–ê–ô–¢–ï:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è
- –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∏—Å–∫ –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω (–Ω–µ—Ç –º–∏–≥–∞–Ω–∏—è LED)

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –¥–∏—Å–∫–∞:
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∏–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∏—Å–∫–∏
df -h

# –ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–µ –¥–∏—Å–∫
lsof /mnt/hdd

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–∏—Å–∫–∞
iotop
```

### –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ö–†–ê–ô–ù–ò–ô –°–õ–£–ß–ê–ô):
```bash
# –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –¥–∏—Å–∫–µ
sudo fuser -km /mnt/hdd

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å
sudo umount -f /mnt/hdd
```

## üõ†Ô∏è –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ—è

### –ï—Å–ª–∏ –¥–∏—Å–∫ –Ω–µ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
sudo fsck /dev/sda2

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å
sudo fsck -f /dev/sda2

# –°–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ
sudo mount /dev/sda2 /mnt/hdd
```

### –ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–ª–∞:
```bash
# –ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (–ö–†–ê–ô–ù–ò–ô –°–õ–£–ß–ê–ô)
sudo reboot -f

# –ò–ª–∏ —á–µ—Ä–µ–∑ Magic SysRq (–Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ Pi)
# Alt + SysRq + R + E + I + S + U + B
```

## üìû –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏

### –ü–∏—Ç–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–∏–ª–æ—Å—å –≤–Ω–µ–∑–∞–ø–Ω–æ:
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏—Å–∫: `sudo fsck /dev/sda2`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `dmesg | grep -i error`
4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –î–∏—Å–∫ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
1. –ù–ï –æ—Ç–∫–ª—é—á–∞–π—Ç–µ USB —Ñ–∏–∑–∏—á–µ—Å–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `dmesg | tail -20`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ USB

## üîå –í–ö–õ–Æ–ß–ï–ù–ò–ï RASPBERRY PI –ü–û–°–õ–ï –û–¢–ö–õ–Æ–ß–ï–ù–ò–Ø

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–µ–Ω–∏—è:

#### 1. üîå **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è**
```bash
# –ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–∞–±–µ–ª—å –ø–∏—Ç–∞–Ω–∏—è USB-C –∫ Raspberry Pi
# –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É
```

#### 2. ‚è∞ **–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ (30-60 —Å–µ–∫—É–Ω–¥)**
- –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç –º–∏–≥–∞—Ç—å
- –ó–µ–ª–µ–Ω—ã–π LED –±—É–¥–µ—Ç –≥–æ—Ä–µ—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ

#### 3. üíΩ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ HDD**
```bash
# HDD –¥–æ–ª–∂–µ–Ω —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ fstab
# –ï—Å–ª–∏ –Ω–µ—Ç - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –≤—Ä—É—á–Ω—É—é:
ssh eu@IP_ADDRESS
cd /home/eu/aether-player
./mount-hdd.sh
```

#### 4. üöÄ **–ó–∞–ø—É—Å–∫ Aether Player**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –ø–æ SSH –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
ssh eu@IP_ADDRESS
cd /home/eu/aether-player
python -c "
import sys
sys.path.insert(0, '.')
from app import app
app.run(host='0.0.0.0', port=5000, debug=False)
" > server.log 2>&1 &
```

#### 5. üåê **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏**
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://IP_ADDRESS:5000`
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥: `http://IP_ADDRESS:5000/monitor`

### üîß –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—Å–∫–∞

#### –°–æ–∑–¥–∞–Ω–∏–µ systemd —Å–µ—Ä–≤–∏—Å–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø):
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–µ—Ä–≤–∏—Å–∞
sudo nano /etc/systemd/system/aether-player.service

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
[Unit]
Description=Aether Player
After=network.target

[Service]
Type=simple
User=eu
WorkingDirectory=/home/eu/aether-player
ExecStartPre=/home/eu/aether-player/mount-hdd.sh
ExecStart=/usr/bin/python3 -c "import sys; sys.path.insert(0, '.'); from app import app; app.run(host='0.0.0.0', port=5000, debug=False)"
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–µ—Ä–≤–∏—Å:
sudo systemctl enable aether-player.service
sudo systemctl start aether-player.service
```

### üö® –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

#### üí° **HDD –Ω–µ –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–∏—Å–∫–∞
lsblk
df -h

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–º–æ–Ω—Ç–∏—Ä—É–π—Ç–µ
sudo mount /dev/sda2 /mnt/hdd

# –ò–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
./mount-hdd.sh
```

#### üåê **–°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è**:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep python

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
sudo pkill -f "python.*app"

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
python -c "import sys; sys.path.insert(0, '.'); from app import app; app.run(host='0.0.0.0', port=5000, debug=False)" > server.log 2>&1 &
```

#### üîç **–ü–æ–∏—Å–∫ IP –∞–¥—Ä–µ—Å–∞ RPi**:
```bash
# –ù–∞ —Å–∞–º–æ–º RPi:
hostname -I

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ç–∏ —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
nmap -sn 192.168.1.0/24
# –∏–ª–∏
nmap -sn 192.168.0.0/24
```

---
**–ü–æ–º–Ω–∏—Ç–µ: 30 —Å–µ–∫—É–Ω–¥ –æ–∂–∏–¥–∞–Ω–∏—è –º–æ–≥—É—Ç —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å —á–∞—Å—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö!**
