<!DOC    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É–¥–∏–æ - Aether Player</title>
    <!-- UPDATED: 2025-08-03 22:22 v2 -->YPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ê—É–¥–∏–æ - Aether Player</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: #222;
            color: #eee;
            max-width: 1000px;
            margin: 20px auto;
            padding: 20px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #444;
        }
        
        .back-button {
            background: #666;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            text-decoration: none;
            cursor: pointer;
        }
        
        .back-button:hover {
            background: #777;
        }
        
        .preset-section {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .preset-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .preset-card {
            background: #333;
            border: 2px solid #444;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
        }
        
        .preset-card:hover:not(.active) {
            border-color: #666;
            background: #383838;
        }
        
        .preset-card:focus {
            outline: none;
        }
        
        .preset-card.active {
            border-color: #4488ff;
            background: #2a3a4a;
            box-shadow: 0 0 15px rgba(68, 136, 255, 0.4);
        }
        
        .preset-card.active .preset-name {
            color: #66aaff;
        }
        
        .preset-name {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 8px;
            color: #4488ff;
        }
        
        .preset-description {
            color: #bbb;
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        .custom-section {
            background: #2a2a2a;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            display: none;
        }
        
        .custom-section.active {
            display: block;
        }
        
        .slider-group {
            margin-bottom: 20px;
        }
        
        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .slider-description {
            color: #bbb;
            font-size: 0.85em;
            margin-bottom: 10px;
            line-height: 1.3;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            background: #444;
            border-radius: 5px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: #4488ff;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: #4488ff;
            border-radius: 50%;
            cursor: pointer;
            border: none;
        }
        
        .info-section {
            background: #1a2a3a;
            border-left: 4px solid #4488ff;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 5px 5px 0;
        }
        
        .apply-button {
            background: #4488ff;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            width: 100%;
            margin-top: 15px;
        }
        
        .apply-button:hover {
            background: #3377ee;
        }
        
        .apply-button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .status-message {
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
            display: none;
        }
        
        .status-message.success {
            background: #2a4a2a;
            color: #8f8;
            border: 1px solid #4a4;
        }
        
        .status-message.error {
            background: #4a2a2a;
            color: #f88;
            border: 1px solid #a44;
        }

        .status-message.info {
            background: #2a2a4a;
            color: #88f;
            border: 1px solid #44a;
        }

        .current-filters {
            background: #1a3a1a;
            border: 1px solid #4a4;
            border-radius: 5px;
            padding: 10px;
            margin-top: 10px;
            font-family: monospace;
            font-size: 0.9em;
            color: #8f8;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéµ –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è –°—Ç–µ—Ä–µ–æ—Å—Ü–µ–Ω–∞ –¥–ª—è –ù–∞—É—à–Ω–∏–∫–æ–≤</h1>
        <a href="/" class="back-button">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–ª–µ–µ—Ä—É</a>
    </div>

    <div class="info-section">
        <h3>üí° –û –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Å—Ç–µ—Ä–µ–æ—Å—Ü–µ–Ω–µ</h3>
        <p>–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–µ—Ç –∏–ª–ª—é–∑–∏—é –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –º—É–∑—ã–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–ª–æ–Ω–∫–∏ –≤–º–µ—Å—Ç–æ –Ω–∞—É—à–Ω–∏–∫–æ–≤. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Å–∏—Ö–æ–∞–∫—É—Å—Ç–∏—á–µ—Å–∫–∏–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è –∑–≤—É–∫–∞.</p>
        <p><strong>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</strong> –Ω–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ "–î–µ–ª–∏–∫–∞—Ç–Ω–æ–µ" –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø–æ —Å–≤–æ–µ–º—É –≤–∫—É—Å—É.</p>
    </div>

    <div class="preset-section">
        <h2>üìã –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏</h2>
        <div class="preset-grid" id="presetGrid">
            <!-- –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </div>

    <div class="custom-section" id="customSection">
        <h2>üîß –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        
        <div class="slider-group">
            <div class="slider-label">
                <span>–°–∏–ª–∞ –∫—Ä–æ—Å—Å—Ñ–∏–¥–∞</span>
                <span id="crossfeed-strength-value">0.5</span>
            </div>
            <div class="slider-description">
                –°–º–µ—à–∏–≤–∞–µ—Ç –ª–µ–≤—ã–π –∏ –ø—Ä–∞–≤—ã–π –∫–∞–Ω–∞–ª—ã. –£—Å—Ç—Ä–∞–Ω—è–µ—Ç "—Ç—É–Ω–Ω–µ–ª—å–Ω—ã–π" —ç—Ñ—Ñ–µ–∫—Ç –Ω–∞—É—à–Ω–∏–∫–æ–≤.
            </div>
            <input type="range" class="slider" id="crossfeed-strength" min="0" max="1" step="0.1" value="0.5">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>–î–∏–∞–ø–∞–∑–æ–Ω –∫—Ä–æ—Å—Å—Ñ–∏–¥–∞</span>
                <span id="crossfeed-range-value">0.6</span>
            </div>
            <div class="slider-description">
                –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ —á–∞—Å—Ç–æ—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å (0.0 = –≤—Å–µ —á–∞—Å—Ç–æ—Ç—ã, 1.0 = —Ç–æ–ª—å–∫–æ –≤—ã—Å–æ–∫–∏–µ).
            </div>
            <input type="range" class="slider" id="crossfeed-range" min="0" max="1" step="0.1" value="0.6">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>–£—Ä–æ–≤–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∞ –•–∞–∞—Å–∞</span>
                <span id="haas-level-out-value">1.0</span>
            </div>
            <div class="slider-description">
                –û–±—â–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å—Ç–µ—Ä–µ–æ—Å—Ü–µ–Ω—ã —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ–∑–∞–¥–µ—Ä–∂–∫–∏.
            </div>
            <input type="range" class="slider" id="haas-level-out" min="0" max="3" step="0.1" value="1.0">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>–®–∏—Ä–∏–Ω–∞ —Å—Ç–µ—Ä–µ–æ—Å—Ü–µ–Ω—ã</span>
                <span id="haas-side-gain-value">0.8</span>
            </div>
            <div class="slider-description">
                –£—Å–∏–ª–µ–Ω–∏–µ –±–æ–∫–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —à–∏—Ä–∏–Ω—ã.
            </div>
            <input type="range" class="slider" id="haas-side-gain" min="0" max="3" step="0.1" value="0.8">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>–£—Å–∏–ª–µ–Ω–∏–µ —Å—Ç–µ—Ä–µ–æ</span>
                <span id="extrastereo-multiplier-value">1.5</span>
            </div>
            <div class="slider-description">
                –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –ª–µ–≤—ã–º –∏ –ø—Ä–∞–≤—ã–º –∫–∞–Ω–∞–ª–∞–º–∏.
            </div>
            <input type="range" class="slider" id="extrastereo-multiplier" min="0" max="3" step="0.1" value="1.5">
        </div>

        <div class="slider-group">
            <div class="slider-label">
                <span>–û–±—ä–µ–º–Ω—ã–π –∑–≤—É–∫</span>
                <span id="surround-level-out-value">1.0</span>
            </div>
            <div class="slider-description">
                –°–æ–∑–¥–∞–µ—Ç –∏–ª–ª—é–∑–∏—é –º–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω–æ–≥–æ –∑–≤—É–∫–∞ –∏–∑ —Å—Ç–µ—Ä–µ–æ-–∏—Å—Ç–æ—á–Ω–∏–∫–∞.
            </div>
            <input type="range" class="slider" id="surround-level-out" min="0" max="3" step="0.1" value="1.0">
        </div>

        <button class="apply-button" id="applyCustomButton">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        
        <div class="current-filters" id="currentFilters" style="display: none;">
            <strong>–¢–µ–∫—É—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã:</strong><br>
            <span id="filtersText"></span>
        </div>
    </div>

    <div class="status-message" id="statusMessage"></div>

    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script>
        let currentPreset = 'off';
        let customSettings = {};
        let socket = null;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è SocketIO
        try {
            socket = io();
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∞—É–¥–∏–æ-–ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
            socket.on('audio_enhancement_changed', function(data) {
                if (data.preset !== currentPreset) {
                    updateActivePreset(data.preset);
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                    if (data.preset === 'custom') {
                        document.getElementById('customSection').classList.add('active');
                    } else {
                        document.getElementById('customSection').classList.remove('active');
                    }
                }
            });
        } catch (e) {
            console.log('SocketIO –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞');
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', function() {
            loadPresets();
            setupSliders();
        });

        async function loadPresets() {
            try {
                const response = await fetch('/api/audio-enhancement/presets');
                const data = await response.json();
                
                if (data.status === 'success') {
                    currentPreset = data.current;
                    customSettings = data.custom_settings;
                    renderPresets(data.presets);
                    updateCustomSliders();
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–∞ custom –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∞
                    if (currentPreset === 'custom') {
                        document.getElementById('customSection').classList.add('active');
                    }
                }
            } catch (error) {
                showStatus('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–æ–∫: ' + error.message, 'error');
            }
        }

        function renderPresets(presets) {
            const grid = document.getElementById('presetGrid');
            grid.innerHTML = '';

            // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫—É "custom"
            const allPresets = {...presets, custom: {name: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ', description: '–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã'}};

            for (const [key, preset] of Object.entries(allPresets)) {
                const card = document.createElement('div');
                card.className = `preset-card ${currentPreset === key ? 'active' : ''}`;
                card.setAttribute('data-preset', key);
                card.innerHTML = `
                    <div class="preset-name">${preset.name}</div>
                    <div class="preset-description">${preset.description}</div>
                `;
                card.addEventListener('click', () => selectPreset(key));
                grid.appendChild(card);
            }
        }

        async function selectPreset(presetName) {
            if (presetName === 'custom') {
                // –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                document.getElementById('customSection').classList.add('active');
                updateActivePreset(presetName);
                
                // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—ã–±–æ—Ä custom –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
                try {
                    const response = await fetch('/api/audio-enhancement/apply', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({preset: presetName})
                    });

                    const data = await response.json();
                    if (data.status !== 'success') {
                        showStatus('–û—à–∏–±–∫–∞: ' + data.error, 'error');
                    }
                } catch (error) {
                    showStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏: ' + error.message, 'error');
                }
                return;
            } else {
                // –°–∫—Ä—ã—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                document.getElementById('customSection').classList.remove('active');
            }

            try {
                const response = await fetch('/api/audio-enhancement/apply', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({preset: presetName})
                });

                const data = await response.json();
                
                if (data.status === 'success') {
                    updateActivePreset(presetName);
                    // –£–±–∏—Ä–∞–µ–º –ø–æ–∫–∞–∑ —Å—Ç–∞—Ç—É—Å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –ª—É—á—à–µ–≥–æ UX
                } else {
                    showStatus('–û—à–∏–±–∫–∞: ' + data.error, 'error');
                }
            } catch (error) {
                showStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫–∏: ' + error.message, 'error');
            }
        }

        function updateActivePreset(presetName) {
            currentPreset = presetName;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ä—Ç–æ—á–∫—É
            document.querySelectorAll('.preset-card').forEach(card => {
                card.classList.remove('active');
            });
            
            // –ù–∞–π—Ç–∏ –∫–∞—Ä—Ç–æ—á–∫—É –ø–æ data-preset –∞—Ç—Ä–∏–±—É—Ç—É
            const activeCard = document.querySelector(`.preset-card[data-preset="${presetName}"]`);
            if (activeCard) {
                activeCard.classList.add('active');
            }
        }

        function setupSliders() {
            const sliders = [
                'crossfeed-strength',
                'crossfeed-range', 
                'haas-level-out',
                'haas-side-gain',
                'extrastereo-multiplier',
                'surround-level-out'
            ];

            sliders.forEach(sliderId => {
                const slider = document.getElementById(sliderId);
                const valueSpan = document.getElementById(sliderId + '-value');
                
                slider.addEventListener('input', function() {
                    valueSpan.textContent = this.value;
                    updateCustomSetting(sliderId.replace(/-/g, '_'), parseFloat(this.value));
                });
            });

            // –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
            document.getElementById('applyCustomButton').addEventListener('click', applyCustomSettings);
        }

        function updateCustomSliders() {
            for (const [key, value] of Object.entries(customSettings)) {
                const sliderId = key.replace(/_/g, '-');
                const slider = document.getElementById(sliderId);
                const valueSpan = document.getElementById(sliderId + '-value');
                
                if (slider && valueSpan) {
                    slider.value = value;
                    valueSpan.textContent = value;
                }
            }
        }

        function updateCustomSetting(settingName, value) {
            customSettings[settingName] = value;
        }

        async function applyCustomSettings() {
            try {
                // –°–Ω–∞—á–∞–ª–∞ –æ–±–Ω–æ–≤–ª—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
                const updateResponse = await fetch('/api/audio-enhancement/custom', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({settings: customSettings})
                });

                const updateData = await updateResponse.json();
                
                if (updateData.status !== 'success') {
                    throw new Error(updateData.error);
                }

                // –ó–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–∫—É
                const applyResponse = await fetch('/api/audio-enhancement/apply', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({preset: 'custom'})
                });

                const applyData = await applyResponse.json();
                
                if (applyData.status === 'success') {
                    updateActivePreset('custom');
                    showStatus('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã', 'success');
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã
                    showCurrentFilters();
                } else {
                    showStatus('–û—à–∏–±–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: ' + applyData.error, 'error');
                }
            } catch (error) {
                showStatus('–û—à–∏–±–∫–∞: ' + error.message, 'error');
            }
        }

        async function showCurrentFilters() {
            try {
                const response = await fetch('/api/audio-enhancement/info/custom');
                const data = await response.json();
                
                if (data.status === 'success' && data.filters.length > 0) {
                    const filtersDiv = document.getElementById('currentFilters');
                    const filtersText = document.getElementById('filtersText');
                    filtersText.textContent = data.filters.join(', ');
                    filtersDiv.style.display = 'block';
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∏–ª—å—Ç—Ä–∞—Ö:', error);
            }
        }

        function showStatus(message, type) {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = `status-message ${type}`;
            statusDiv.style.display = 'block';
            
            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 5000);
        }
    </script>
</body>
</html>
